/*! Superslides - v0.6.3-wip - 2013-12-17
 * https://github.com/nicinabox/superslides
 * Copyright (c) 2013 Nic Aitch; Licensed MIT */

(function (i, t) {
  var n, e = "superslides";

  n = function (n, e) {
      this.options = t.extend({
          play: true,
          animation_speed: 600,
          animation_easing: "swing",
          animation: "slide",
          inherit_width_from: i,
          inherit_height_from: i,
          pagination: true,
          hashchange: !1,
          scrollable: !0,
          elements: {
              preserve: ".preserve",
              nav: ".slides-navigation",
              container: ".slides-container",
              pagination: ".slides-pagination"
          }
      }, e);

      var s = this,
          o = t("<div>", {
              "class": "slides-control"
          }),
          a = 1;

      this.$el = t(n);
      this.$container = this.$el.find(this.options.elements.container);

      var r = function () {
          return a = s._findMultiplier(),
              s.$el.on("click", s.options.elements.nav + " a", function (i) {
                  i.preventDefault(), s.stop(),
                      t(this).hasClass("next") ?
                      s.animate("next", function () {
                          s.start()
                      }) :
                      s.animate("prev", function () {
                          s.start()
                      })
              }),
              t(document).on("keyup", function (i) {
                  37 === i.keyCode && s.animate("prev"),
                      39 === i.keyCode && s.animate("next")
              }),
              t(i).on("resize", function () {
                  setTimeout(function () {
                      var i = s.$container.children();
                      s.width = s._findWidth(),
                          s.height = s._findHeight(),
                          i.css({
                              width: s.width,
                              left: s.width
                          }),
                          s.css.containers(),
                          s.css.images()
                  }, 10)
              }),
              s.options.hashchange && t(i).on("hashchange", function () {
                  var i, t = s._parseHash();
                  i = s._upcomingSlide(t),
                      i >= 0 && i !== s.current && s.animate(i)
              }),
              s.pagination._events(),
              s.start(),
              s
      };

      var h = {
          containers: function () {
              s.init ? (
                  s.$el.css({
                      height: s.height
                  }),
                  s.$control.css({
                      width: s.width * a,
                      left: -s.width
                  }),
                  s.$container.css({})
              ) : (
                  t("body").css({
                      margin: 0
                  }),
                  s.$el.css({
                      position: "relative",
                      overflow: "hidden",
                      width: "100%",
                      height: s.height
                  }),
                  s.$control.css({
                      position: "relative",
                      transform: "translate3d(0)",
                      height: "100%",
                      width: s.width * a,
                      left: -s.width
                  }),
                  s.$container.css({
                      display: "none",
                      margin: "0",
                      padding: "0",
                      listStyle: "none",
                      position: "relative",
                      height: "100%"
                  })
              ),
              1 === s.size() && s.$el.find(s.options.elements.nav).hide()
          }
      };

      return this.css = h,
          this.$control = this.$container.wrap(o).parent(".slides-control"),
          s._findPositions(),
          s.width = s._findWidth(),
          s.height = s._findHeight(),
          this.css.containers(),
          this.css.images(),
          this.pagination._setup(),
          r()
  };

  n.prototype = {
      _findWidth: function () {
          return t(this.options.inherit_width_from).width()
      },
      _findHeight: function () {
          return t(this.options.inherit_height_from).height()
      },
      _findMultiplier: function () {
          return 1 === this.size() ? 1 : 3
      }
  };

})(window, jQuery);
